---
title: "Taylor Swift Song Analysis: What Makes Good and Bad Songs?"
author: "Arvind Ramakrishnan, Jason Matthew Suhari, Jason Ray, Tay Jia Jun Jeremy"
date: "`r Sys.Date()`"
output: html_document
runtime: shiny
---

## Introduction

### Background

This project analyzes Taylor Swift's song features to uncover what characteristics define a "good" or "bad" song, aiming to answer the question: "Which features make good and bad Taylor songs?" by using data from the taylor R package and Spotify's audio metrics.

### Main Question

Insert main question here

### Sub-Questions
1.) Insert sub-question #1 here

2.) Insert sub-question #2 here

3.) Insert sub-question #3 here

## Data Parsing and Initialization

```{r setup, include=FALSE}
knitr::opts_chunk$set(message = FALSE, warning = FALSE, include = TRUE,
                      fig.align = "center",  out.width = "80%")
```

### (DEBUG) Package Installations (For members only, to remove later)
```{r}
install.packages("ggplot2")
install.packages("dplyr")
install.packages("tidyverse")
install.packages("taylor")
install.packages("tidytuesdayR")
install.packages("viridis")
```

### Library Imports
```{r}
library(ggplot2)
library(dplyr)
library(taylor)
library(tidyverse)
library(viridis)
library(lubridate)
# add more here ltr
```

### Data Ingestion & Cleaning
```{r}
data <- tidytuesdayR::tt_load('2023-10-17')
cols_to_select <- c("album_name", "danceability", "energy", "loudness", "speechiness", "acousticness", "liveness", "valence", "tempo")

taylor_albums <- data$taylor_albums

df <- data$taylor_album_songs %>% 
  select(all_of(cols_to_select)) %>% 
  drop_na() %>% 
  left_join(taylor_albums, by = "album_name") 
```

### Exploratory Data Analysis
```{r}

```

### Question 1
### Write question here
```{r}

```

### Question 2
### Write question here
```{r}

```

### Question 3
### density plot that visualizes the distribution of energy in albums from the Top 2 Albums (based on metacritic and user scores) and a specific album (in this case, Taylor Swift)
```{r}
top_2_albums <- c("Red (Taylor's Version)", "folklore")

best_album_data <- df %>%
  filter(album_name %in% top_2_albums) %>%
  mutate(label = "Top 2 Albums")

album_to_compare <- "Taylor Swift"
selected_album_data <- df %>%
  filter(album_name == album_to_compare) %>%
  mutate(label = album_to_compare)

data_to_plot <- bind_rows(best_album_data, selected_album_data)

ggplot(data_to_plot, 
       aes(x = energy, fill = label, color = label)) +
  geom_density(alpha = 0.5) +
  labs(title = paste("Energy Distribution of Top 2 Albums VS", album_to_compare, "Album"),
       x = "Energy",
       y = "Density") +
  theme_bw() +
  theme(
    plot.title = element_text(hjust = 0.5),
    legend.position = "bottom"
    )
```
