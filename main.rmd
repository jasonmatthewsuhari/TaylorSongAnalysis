---
title: "Taylor Swift Song Analysis: What Makes Good and Bad Songs?"
author: "Arvind Ramakrishnan, Jason Matthew Suhari, Jason Ray, Tay Jia Jun Jeremy"
date: "`r Sys.Date()`"
output: html_document
runtime: shiny
---

## Introduction

### Background

This project analyzes Taylor Swift's song features to uncover what characteristics define a "good" or "bad" song, aiming to answer the question: "Which features make good and bad Taylor songs?" by using data from the taylor R package and Spotify's audio metrics.

### Main Question

Insert main question here

### Sub-Questions
1.) Insert sub-question #1 here

2.) Insert sub-question #2 here

3.) Insert sub-question #3 here

## Data Parsing and Initialization

```{r setup, include=FALSE}
knitr::opts_chunk$set(message = FALSE, warning = FALSE, include = TRUE,
                      fig.align = "center",  out.width = "80%")
```

### (DEBUG) Package Installations (For members only, to remove later)
```{r}
install.packages("ggplot2")
install.packages("dplyr")
install.packages("tidyverse")
install.packages("taylor")
install.packages("tidytuesdayR")
install.packages("viridis")
```

### Library Imports
```{r}
library(ggplot2)
library(dplyr)
library(taylor)
library(tidyverse)
library(viridis)
library(lubridate)
# add more here ltr
```

### Data Ingestion & Cleaning
```{r}
data <- tidytuesdayR::tt_load('2023-10-17')
cols_to_select <- c("album_name", "danceability", "energy", "loudness", "speechiness", "acousticness", "liveness", "valence", "tempo")

taylor_albums <- data$taylor_albums %>% 
  select(-ep)

df <- data$taylor_album_songs %>% 
  select(all_of(cols_to_select)) %>% 
  drop_na() %>% 
  left_join(taylor_albums, by = "album_name") 
```

### Exploratory Data Analysis
```{r}

```

### Question 1
### Write question here
```{r}

```

### Question 2
### Write question here
```{r}
best_albums = c("folklore", "Red (Taylor's Version)")
worst_albums = c("reputation", "Taylor Swift")

qn2 = df %>%
  select("album_name", "tempo") %>%
  filter(album_name == best_albums[1]
         | album_name == best_albums[2]
         | album_name == worst_albums[1]
         | album_name == worst_albums[2]) %>%
  group_by(album_name) %>%
  summarize(average = mean(tempo))

ggplot(qn2, aes(x = album_name, y = average, fill = album_name)) +
  geom_bar(stat = "identity") +
  theme(
    legend.position = "none"
  ) 
```

### Question 3
### Write question here
```{r}

```
